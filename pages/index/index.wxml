<view class="container">
  <view class="screen-shell index-shell">
    <view class="title home-title">塔罗每日占卜</view>
    <view class="subtitle home-subtitle">以深紫星图为引，抽取你今日的灵感与方向</view>

    <view class="label">你想占卜什么？</view>
    <textarea
      class="question-input"
      maxlength="120"
      placeholder="例如：我该怎么推进这个项目？"
      value="{{question}}"
      bindinput="onQuestionInput"
    />

    <view class="label spread-label">选择牌阵</view>
    <picker mode="selector" range="{{spreadLabels}}" value="{{spreadIndex}}" bindchange="onSpreadChange">
      <view class="picker">{{spreadLabels[spreadIndex]}}</view>
    </picker>

    <button class="primary-btn action-main" bindtap="startReading">开始占卜</button>

    <view class="quick-grid">
      <button class="secondary-btn quick-btn" bindtap="goDictionary">牌库百科</button>
      <button class="secondary-btn quick-btn" bindtap="goHistory">占卜历史</button>
      <button class="ghost-btn quick-btn wide" bindtap="goProfile">个人中心</button>
    </view>
  </view>

  <view class="launch-mask" wx:if="{{showLaunchAnimation}}" bindtap="skipLaunchAnimation">
    <view class="magic-bg">
      <view class="spark spark-1"></view>
      <view class="spark spark-2"></view>
      <view class="spark spark-3"></view>
      <view class="spark spark-4"></view>
      <view class="spark spark-5"></view>
      <view class="spark spark-6"></view>
    </view>

    <view class="launch-stage">
      <view class="launch-aura"></view>
      <view class="launch-card {{launchSqueezed ? 'is-squeezed' : ''}}">
        <view class="launch-face launch-face-back {{launchFace === 'back' ? 'visible' : ''}}">
          <view class="card-frame card-frame-outer"></view>
          <view class="card-frame card-frame-inner"></view>
          <view class="clow-symbol">
            <view class="clow-wing wing-left"></view>
            <view class="clow-core-ring"></view>
            <view class="clow-core-dot"></view>
            <view class="clow-wing wing-right"></view>
            <view class="clow-star">✦</view>
          </view>
        </view>

        <view class="launch-face launch-face-front {{launchFace === 'front' ? 'visible' : ''}}">
          <view class="card-frame card-frame-outer"></view>
          <view class="card-frame card-frame-inner"></view>
          <view class="reveal-title">{{launchCard.name}}</view>
          <view class="reveal-badge">{{launchCard.orientation}}</view>
          <view class="reveal-sub">{{launchCard.keywords}}</view>
          <view class="reveal-advice">{{launchCard.advice}}</view>
        </view>
      </view>

      <view class="launch-tip">点击任意位置跳过</view>
    </view>
  </view>
</view>
