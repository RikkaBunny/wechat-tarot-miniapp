<view class="container">
  <view class="screen-shell" wx:if="{{history.length}}">
    <view class="title">最近占卜</view>
    <view class="subtitle">点击任意记录可查看详情</view>

    <view class="history-item" wx:for="{{history}}" wx:key="id" data-id="{{item.id}}" bindtap="openReading">
      <view class="item-head">
        <view class="item-title">{{item.spreadLabel}}</view>
        <view class="item-time">{{item.createdAt}}</view>
      </view>
      <view class="item-question" wx:if="{{item.question}}">{{item.question}}</view>
      <view class="item-summary">{{item.summary}}</view>
    </view>

    <button class="secondary-btn" bindtap="clearHistory">清空历史</button>
  </view>

  <view class="screen-shell empty" wx:else>
    <view class="title">还没有历史记录</view>
    <view class="subtitle">先去抽一组塔罗牌吧</view>
    <button class="primary-btn" bindtap="goIndex">去占卜</button>
  </view>
</view>
